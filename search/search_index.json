{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"RanseiLink - Pok\u00e9mon Conquest Rom Editor","text":""},{"location":"#edit-game-data","title":"Edit Game Data","text":"<ul> <li> <p>Edit Game Data</p> <p>Extensive support for editing data. Create custom pokemon, warriors, moves, and much more.</p> <p> Learn More</p> </li> <li> <p></p> <p>Translate</p> <p>Game text can be edited, allowing translators to bring this amazing game to more people.</p> <p> Learn More</p> </li> <li> <p></p> <p>Randomize</p> <p>Have a fun new experience, with random teams and wacky animations.</p> <p> Learn More</p> </li> </ul>"},{"location":"#create-custom-graphics","title":"Create Custom Graphics","text":"<ul> <li> <p>Sprites</p> <p>Edit many of the game's image types, including pokemon battle sprites.</p> <p> Learn More</p> </li> <li> <p></p> <p>Battle Maps</p> <p>Import custom battle map 3D models and layout gimmicks on them.</p> <p> Learn More</p> </li> <li> <p></p> <p>Advanced Animations</p> <p>Edit cell animations for kingdoms, buildings, and more.</p> <p> Learn More</p> </li> </ul>"},{"location":"#acknowledgements","title":"Acknowledgements","text":"<p>Thank you to everyone who's helped make RanseiLink what it is today  </p> <ul> <li>Deijin Main Developer</li> <li>Pleonex Text Editing</li> <li>Scurest 3D Model Research</li> <li>Snap Documentation, Testing and Research</li> <li>WhatAUsernameIHave Video Tutorials, Testing and Research</li> <li>Baconfry Testing and Research</li> <li>Bagon Testing and Research</li> <li>Geodude6 Research</li> </ul>"},{"location":"changelog/","title":"Changelog","text":""},{"location":"changelog/#6.1","title":"6.1 - Dec 13, 2024","text":"<p>Features</p> <ul> <li>Map Editor Improvements<ul> <li>Support drag when editing so you can paint multiple cells in one mouse press and drag</li> <li>New map view modes for Bounds and Orientation. Note, it's currently unknown what the difference is between the orientation stored in cells, and the orientation stored in gimmick and pokemon entries.</li> <li>Reworked painting functionality, it now paints if you have the Painter tab selected. The painter tab shows a different palette dependent on what map view mode you have selected. Elevation palette is saved to user settings.</li> <li>Realised that previous interpretation of pokemon data was wrong, now it's displayed correctly, with each pokemon having more data than just position.</li> </ul> </li> <li>Move Workspace: Similar to the pokemon and warrior workspaces, moves are displayed in a list where items have a preview of the range of the move, and it's type, power, and name.</li> <li>Gimmick Data: Discovered some things such as where the attack power is stored. This is still very much in-progress.</li> </ul> <p>Fixes</p> <ul> <li>Fix issue where mods would be left in a broken state where they crashed whenever opened if pokemon evolutions were modified in 6.0. Those mods will no longer crash, but the evolutions of pokemon will be messed up, you will need to manually go through and fix the evolutions, sorry about this.</li> </ul>"},{"location":"changelog/#6.0","title":"6.0 - Oct 26, 2024","text":"<p>Mod Features</p> <ul> <li>Support for editing Animations (Guide)<ul> <li>Kingdom top-screen backgrounds</li> <li>Kingdom bottom-screen backgrounds</li> <li>Kingdom map icons</li> <li>Building medium-size icons </li> </ul> </li> <li>Support for new still image types:<ul> <li>Building Small Icons</li> <li>Battle Minimaps</li> <li>Kingdom top-screen background (still version of the animation)</li> </ul> </li> </ul> <p>Tool Enhancements</p> <ul> <li>Re-added the copy-paste functionality for things such as Pokemon and Moves #59</li> <li>Mods now support tags, and you can filter the mod list based on these tags</li> <li>You can now pin mods to the top of the mod list</li> <li>Newly added mods are temporarily sorted the top of the mod list on creation</li> <li>Max link now has indicators if they are above the bronze silver and gold thresholds #34</li> <li>Max link has a \"quick set\" functionality which allows you to choose what number buttons you want to have to conveniently set many link values consecutively #36. Scenario pokemon ivs and link also support this functionality.</li> <li>The concept of \"Overwritten\" is now indicated by green checkmarks throughout the tool. So whenever you replace, for example, an animation, a green checkmark appears next to it indicating it's been modified.</li> <li>New \"Building Workspace\" where you can edit building and scenario info in one place, with buildings grouped by kingdom</li> <li>New \"Pokemon Workspace\". Pokemon are displayed in a list with pictures and you can filter the list by name and type.</li> <li>New \"Warrior Workspace\". Base warriors are displayed in a list with pictures and you canfilter the list by name and speciality</li> <li>Bug Report Button that autofills some of the information on the github issue form</li> </ul> <p>Bug Fixes</p> <ul> <li>Fix crash that sometimes occurred when restoring window dimensions #62</li> <li>Fix text in button not changing color when disabled</li> <li>Fix minor unoptimisation on warrior name table filtering</li> <li>Added safety measures to make corrupted files less likely e.g. when saving messages they are saved to a temporary file first, then copied to the destination</li> <li>Name max lengths take culture into account</li> </ul>"},{"location":"changelog/#5.5","title":"5.5 - May 27, 2023","text":"<p>Mod Features</p> <ul> <li>Edit pokemon BattleIntroSpriteOffset</li> <li>Battle Config minimap (plan to allow you to edit these minimaps to match custom maps) #35</li> </ul> <p>Tool Enhancements</p> <ul> <li>Renamed pokemon and warrior graphics types to more sensible names \"Small, Medium, Large, XLarge\"</li> <li>3D Map Viewer: You can view maps from either the map page, or the battle config page (on the battle config page, you can see the background colors too). Just supports viewing the map atm, it's not planned to support editing the 3D geometry, but it is planned to support editing the elevation, and moving around gimmicks in this 3D view. Project</li> <li>On ability, move, and skill pages view the warrior / pokemon that get them in a list. #44</li> <li>Save and restore window dimensions, position, and state</li> </ul> <p>Bug Fixes</p> <ul> <li>Fix crash modifying map dimensions</li> <li>Map Importer: <ul> <li>Prevent infinite loop when material names are tool long</li> <li>Automatically remove the prefixes maya adds</li> </ul> </li> </ul>"},{"location":"changelog/#5.4","title":"5.4 - Mar 9, 2023","text":"<p>Mod Features</p> <ul> <li>Edit wandering merchant item #21</li> </ul> <p>Tool Enhancements</p> <ul> <li>Scenario Warrior Workspace: Scenario Warrior, Pokemon, and Kingdom in one streamlined view #23</li> <li>Mod selection screen is more compact and displays banner images</li> <li>Nice progress bar style</li> <li>Max link sorting by name and link #29</li> <li>Max link inverse page where you view warriors for a pokemon #29</li> <li>Max link displays images of pokemon/warriors #29</li> <li>Users are prompted to populate graphics defaults on tool launch if they haven't yet #30</li> <li>Main editor is overall more compact</li> </ul> <p>Bug Fixes</p> <ul> <li>Fixed patch sprites setting not persisting #19</li> <li>Fixed episode name length being capped #25</li> <li>Partial transfer plugin, and others are fixed based on a rework of how plugin completion is handled #24</li> </ul> <p>Technical Background Changes</p> <ul> <li>Normalized results to use FluentResults library</li> <li>Update RanseiLink.Core to .NET6 to accomodate ImageSharp 3.0.0</li> </ul>"},{"location":"changelog/#5.3","title":"5.3 - Dec 11, 2022","text":"<ul> <li>Fix crash on scenario warrior page</li> <li>Add a different way of specifying exact links, supporting every integer 0-100</li> <li>Label \"Hit 5 times\" move effect correctly</li> <li>Support editing scenario building information</li> </ul>"},{"location":"changelog/#5.2","title":"5.2 - Nov 17, 2022","text":"<p>Bug Fixes</p> <ul> <li>Fix issue with map editor changes being applied to other mods opened due to improper disposal</li> <li>Fix crash when attempting to move pokemon/gimmicks outside of map area</li> <li>Fix gimmicks not being visually removed from map when deleted</li> <li>Fix map selected pokemon position not changing when clicking a new cell</li> </ul> <p>Features</p> <ul> <li>Some useful buttons to set exp to a value that gives an exact link that has been tested to be exact in-game.</li> </ul>"},{"location":"changelog/#5.1","title":"5.1 - Nov 13, 2022","text":"<ul> <li>Compatibility with European rom VPYP. RanseiLink considers this cross-compatible with the North American VPYT, since there is only minor text differences.</li> <li>Text filters are now insensitive to accents. e.g. if you search No, it matches N\u014d</li> <li>Fixed that the window was cropped a little when full screen</li> <li>Basic support to adding and removing messages from the groups that have a message per speaker_id</li> <li>Fix map models were able to be patched without having populated graphics defaults, which caused crash</li> <li>Changes that are hopefully inconsequential to users: </li> <li>We have changed IOC to one that is faster, maybe not noticable, but it stacks up as the app grows</li> <li>We are using an MVVM dialog api. This is a step towards complete separation of view and viewmodel, which would make moving to a different (Cross Platform) ui framework much easier.</li> </ul>"},{"location":"changelog/#5.0","title":"5.0 - Sep 11, 2022","text":"<p>Changes To Installation</p> <p>Now there is no longer a need for an installation guide. RanseiLink is published as self-contained. This means the application is a lot bigger, but you no longer need to worry about installing .NET, as the necessary framework is bundled with the app. Just unzip and run.</p> <p>What's New</p> <ul> <li>Extract battle map 3D models to OBJ, edit them, then re-import into the game. You can create fully custom maps. See the Map Editing Guide to learn more. (Big thanks for Scurest, their documentation on NSBMDs helped a lot to getting this working)</li> <li>The elevation at which pokemon and gimmick sprites are placed on a map can now be edited to match your custom 3D model</li> <li>Disable pokemon and gimmick markers on the PSLM view, making it easier to see when editing elevation</li> <li>Pokemon sprite sheets also come with animations. These can now be edited. See the updated guide, and an tool to help you preview you sprites and animations. Also be sure to check out Snap's Guide for creating pokemon sprites in the conquest style.</li> <li>Navigate to messages by warrior by clicking on the link next \"Speaker ID\" on the base warrior page \"tactics tactics tactics\"</li> <li>Renamed some text parameters in messages to make more sense.</li> <li>Omitted constant bits in text parameter values, (where you saw 48, 49, 50, now you will see 0, 1, 2.)</li> <li>In text search, include all 3 members of multi-start. messages.</li> </ul>"},{"location":"changelog/#4.9","title":"4.9 - Jul 26, 2022","text":"<ul> <li>Fix bug with image patching</li> <li>Fix \"append new\" not blocked in \"Title\" where it isn't possible</li> <li>Forward and backward navigation for page selection. Only for the which main tab is selected atm.</li> <li>List number of overrides on sprite pages</li> <li>Overriden sprites have purple number</li> <li>View and edit warrior and pokemon sprites on the warrior and pokemon pages</li> </ul>"},{"location":"changelog/#4.8","title":"4.8 - Jul 23, 2022","text":"<ul> <li>Compatibility with japanese rom</li> <li>Text and ScenarioWarrior DataGrids now remember scroll position</li> <li>Number boxes now allow you to type over selected text</li> </ul> <p>Important Notes</p> <p>VPYT = English rom, VPYJ = Japanese rom. Mods are not cross compatible atm, but you can use the partial transfer plugin to move most data across to a mod of the other game code.</p> <p>You will need to run \"populate graphics defaults\" again because they are now stored per-gamecode. This is to allow japanese rom defaults to be accurate.</p> <p>If you have no intention to use an older version of ranseilink again, you can delete the folder <code>%localappdata%\\RanseiLink\\DataProvider</code>. This is worth doing at some point as it will save you 120MB of storage space.</p>"},{"location":"changelog/#4.7","title":"4.7 - Jun 22, 2022","text":"<ul> <li>Significantly more accurate exp-to-link formula</li> </ul>"},{"location":"changelog/#4.6","title":"4.6 - Jun 20, 2022","text":"<ul> <li>Scenario pokemon only have their possible abilities listed</li> </ul>"},{"location":"changelog/#4.5","title":"4.5 - Jun 19, 2022","text":"<p>Bug Fixes</p> <ul> <li>Fix gimmick max id incorrect which made many gimmicks not editable and map editor crashes</li> <li>Banner image of incorrect size is now correctly rejected</li> </ul> <p>New Editables</p> <ul> <li>Move: Movement/Knockback (fully reproduce behaviour of flame wheel / volt switch / aqua tail / fiery dance etc.), plus a couple of values not sure what they do yet</li> <li>Building: Referenced buildings. Not sure what they do yet</li> </ul>"},{"location":"changelog/#4.4","title":"4.4 - May 29, 2022","text":"<p>Bug Fixes</p> <ul> <li>Safely create new settings file if file is corrupt</li> <li>Fix image simplifier sometimes being one color over because the quantizer changed the transparency to a different color. Transparency is now preserved and the palette is simplified to the correct amount.</li> <li>Validation on text editing</li> </ul> <p>New Editables</p> <ul> <li>Pokemon: Catch rate</li> <li>Scenario warrior: Item</li> <li>Move: Lv5 effects, additional animation</li> <li>Battle config: treasure items</li> <li>Banner (the title and image shown on the DS menu) (make a new mod to extract the default image)</li> <li>Title screen images (requires you to run \"Populate Graphics Defaults\" again)</li> </ul>"},{"location":"changelog/#","title":"4.3 - Apr 25, 2022","text":"<ul> <li>Bug fix: Fix pokemon evolution conditions breaking, and similar thing in warrior rank-up condition</li> <li>Grid editor for scenario pokemon</li> <li>Experimental editables for pokemon sprite values. Only use if you know what you're doing.</li> </ul>"},{"location":"changelog/#","title":"4.2 - Apr 25, 2022","text":"<p>Bug Fixes</p> <ul> <li>Fix navigate to invalid ids causing crash</li> <li>Fix text changes not being saved</li> <li>Fix max link not visually updating when switching pages</li> <li>Fix item names in child selector of scenarioselectors not updating when switching scenario</li> <li>Fix some incorrently labelled item effect values</li> <li>Fix scenariopokemon changes done in scenariowarrior page not saving</li> <li>Safely ignore wpf bug where moduleid is occasionally set to null for no reason</li> </ul> <p>New Editables</p> <ul> <li>Episode: Initial kingoms, unlocked kingdoms, clear condition</li> </ul>"},{"location":"changelog/#","title":"4.1 - Apr 23, 2022","text":"<ul> <li>Map editing bug fixes</li> <li>Fix gimmick in cell not updating visually when changed</li> <li>Fix gimmick parameters not getting set</li> <li>Ease of use changes</li> <li>Comboboxes are filled in with user assigned names</li> <li>Editing grids removed atm because of above change making them far more difficult</li> <li>Improved edit interface for pokemon habitat values</li> <li>View army summary by clicking on kingdom name in ScenarioKingdom page</li> <li>New Editables</li> <li>Episodes: Scenario, Unlock condition, Difficulty, Convenient editing of name and description</li> <li>Item: Crafting recipe, Category, Effect and duration, Required building level</li> <li>Pokemon: Easy editing of pokemon evolutions, with unlimited adding and removing evolutions supported</li> </ul>"},{"location":"changelog/#","title":"4.0 - Mar 2, 2022","text":"<ul> <li> <p>Battle Maps: pokemon start positions, gimmicks, terrain type</p> </li> <li> <p>Battle configs: which map, victory requirements, background colors, number of turns</p> </li> <li> <p>Building: battle config, sprite, function</p> </li> <li> <p>Items: where they can be purchased, quantity for effect</p> </li> <li> <p>Gimmick ranges can be modified the same way move ranges can</p> </li> <li> <p>Scenario pokemon: initial link</p> </li> <li> <p>Scenario Warrior: up to 8 pokemon on a warrior from the start</p> </li> <li> <p>Pokemon: idle animation</p> </li> <li> <p>Sprites: Still images, Screen Backgrounds, Battle Sprites</p> </li> </ul> <p>Image editing guide</p>"},{"location":"changelog/#","title":"3.1 - Dec 29, 2021","text":"<ul> <li>Bug fixes<ul> <li>Fix crash on mod selection page when multiple plugins</li> <li>Fix item description setting wrong data</li> <li>Prevent editing descriptions of dummys without allocated descriptions slots (which was overriding unrelated text)</li> </ul> </li> <li>Text editing improvements<ul> <li>Loading: accented latin characters, better variable names, faster loads, etc.</li> <li>Additional ease of access item and ability descriptions</li> </ul> </li> <li>Utility features<ul> <li>common iv buttons</li> <li>search warrior names</li> <li>jump from scenario pokemon to scenario warrior</li> <li>change editor page tab order</li> </ul> </li> <li>New editables<ul> <li>Kingdom (name, which battle map to use, overworld connections)</li> <li>Gimmick (name, attack type, destroy type, animations)</li> </ul> </li> </ul>"},{"location":"changelog/#3.0","title":"3.0 - Dec 19, 2021","text":"<ul> <li>Base Warriors (wisdom, speciality, rank up conditions etc)</li> <li>Warrior Names</li> <li>Per scenario appear pokemon (use in combination with toggles on pokemon page)</li> <li>Per scenario army kingdom assignment</li> <li>Scenario Warrior class, kingdom and army assignment</li> <li>Minimal editing of Items and Buildings</li> <li>Text editing (huge thanks to pleonex)</li> <li>Event speakers</li> <li>Move animation editing with previewer so you know what the animation looks like (thanks to WhatAUsernameIHave and Snap for the help)</li> <li>Visual updates including dark theme and light theme</li> <li>Plugin support. And move randomizer code into a plugin.</li> <li>Ease of use changes including jump navigation and grids (some useful tips for grids)</li> </ul> <p>Upgrading Mods from Version 2.0</p> <p>Mods created in older versions of RanseiLink require upgrading to work with this version (text editing requires extra data from the rom). Using the windows app you will see a button on the left which you should click to upgrade your mods. You will be prompted to provide it with an unchanged copy of the rom. For the console application, use the command <code>dotnet RanseiLink.Console.dll upgrade mods \"C:\\Rom\\Path.nds\"</code></p>"},{"location":"changelog/#2.0","title":"2.0 - Oct 3, 2021","text":"<ul> <li>Project management system</li> <li>Scenario Pokemon</li> <li>Scenario Warrior</li> <li>Evolution Table</li> <li>Quantity for evolution condition</li> <li>Pokemon movement range</li> <li>Max Link</li> <li>Randomization</li> </ul> <p>Porting v0.1.0 projects</p> <p>Here is a short guide of how to transfer stuff you've worked on in RanseiLink v0.1.0 to this version: https://github.com/Deijin27/RanseiLink/wiki/Version-1-to-2-Project-Transfer-Guide</p>"},{"location":"changelog/#1.0","title":"1.0 - Sep 5, 2021","text":"<p>Initial Release</p>"},{"location":"community/community/","title":"Community","text":""},{"location":"community/community/#discuss","title":"Discuss","text":"<p>For discussions and ideas you have you can use the discussions page on github.</p> <p>RanseiLink doesn't have an official discord, but I would strongly recommend the Ransei Region Discord Server to connect with other pokemon conquest fans.</p> <p></p>"},{"location":"community/community/#play","title":"Play","text":"<ul> <li>Play a romhack made by someone else</li> <li>Join pokemon conquest PvP tournaments</li> </ul>"},{"location":"community/community/#create","title":"Create","text":"<ul> <li>Create your own pokemon conquest mod</li> <li>Create custom sprites</li> </ul>"},{"location":"community/contributing/","title":"Contributing","text":"<p>There are many ways to contribute to RanseiLink, anyone can join in.</p>"},{"location":"community/contributing/#reporting-bugs","title":"Reporting Bugs","text":"<p>We can't fix bugs if we don't know about them, so please report any you find. Provide as much info as you can, the more details the easier it is to reproduce and ultimately fix the problem. Don't worry about if it's a duplicate, we don't get many reports at the moment so keeping on top of things is easy.</p> <p>You can find a bug report button on the home page of RanseiLink to make reporting more convenient, automatically including relevant information such as the version of RanseiLink that you're on. Github does require you to make an account but other than that it's a smooth experience. In the case of crashes, RanseiLink will give you a dialog box with the option to report too, attaching the full crash log to the issue automatically.</p>"},{"location":"community/contributing/#research","title":"Research","text":"<p>All new features of RanseiLink are driven by diligent research and amazing discoveries by the community.</p> <p>Examples:</p> <ul> <li>Bagon Discovered how to control the order of pokemon move animations.</li> <li>Geodude Discovered that Catch Rate affects the facility level that a pokemon appears in.</li> </ul>"},{"location":"community/contributing/#documentation","title":"Documentation","text":"<p>Snap created the Battle Sprite Creation Process Guide</p>"},{"location":"community/more-tools/","title":"More tools","text":""},{"location":"community/more-tools/#more-stuff","title":"More Stuff","text":"<p>Beyond RanseiLink, there's lots more awesome pokemon conquest things to discover</p> <ul> <li>Conquest Save File Tools: Conquest save editing scripts made by Mathy</li> <li>Damage Formula: The damage calculation formula for pokemon conquest by Mathy</li> <li>Conquest Memory Editing: Scripts to edit the memory of the running game in desmume by Deijin</li> </ul>"},{"location":"getting-started/importing-mods/","title":"Importing Mods","text":"<p>Launch RanseiLink you will see this:</p> <p></p>"},{"location":"getting-started/importing-mods/#import-mod","title":"Import Mod","text":"<p>Click \"Import Mod\" and drag the mod into there (or use the file picker if you prefer):</p> <p></p> <p>When you click \"Import\" you should see the mod appear in the list on the right of the home page.</p>"},{"location":"getting-started/importing-mods/#populate-graphics-defaults","title":"Populate Graphics Defaults","text":"<p>If the mod includes sprites, you will need to click the 'Populate Graphics Defaults' button. This gets some necessary files from the rom for patching sprites. Provide it with an unchanged copy of the rom.</p> <p>Note</p> <p>You only need to do this once and never again*, the information is stored on your PC for any future times it's needed. The only exception is if support for a new type of image is added, which will be flagged in the release notes of a new version of RanseiLink.</p>"},{"location":"getting-started/importing-mods/#apply-patch","title":"Apply Patch","text":"<p>Right click on the mod in the list and you will see a context menu. Click the option 'Patch rom with mod'</p> <p></p> <p>Provide the dialog with a copy of the rom.</p> <p>Warning</p> <p>This will irreversably modify the rom file you provide. Keep an unchanged copy of your rom safe somewhere to make sure you don't accidentally patch over it.</p> <p>Check \"Include sprites in patch\" if the mod has sprite modifications. If you're not sure, check it just in case.</p> <p>Click 'Apply' and the patcher will begin. The time it takes varies based on how many file size changes there are, and how many sprites it needs to build, but it won't take long.</p> <p>Once done, you should be good to load up the rom and see the changes.</p>"},{"location":"getting-started/installation/","title":"Installation","text":"<p>RanseiLink is a portable executable. Just download, unzip, and you're ready to go.</p> <p></p> <p>DISCLAIMER</p> <p>THE VIDEO TUTORIAL SHOWS INSTALLING .NET WHICH IS NO LONGER NECESSARY SINCE RANSEILINK V5.0</p>"},{"location":"getting-started/plugins/","title":"Plugins Explained","text":"<p>RanseiLink supports plugins. This page explains each of the ones written by Deijin. Currently the latest versions of these are included with a ranseilink release as of the date of release. But these plugins are updated independently, thus you can be sure you have the latest ones from here: https://drive.google.com/drive/folders/1LQDr4OF5MiOdRu1AFNIN9P7eaCQLHSA_?usp=sharing</p>"},{"location":"getting-started/plugins/#changelist-plugin","title":"Changelist Plugin","text":"<p>Provide this plugin with an unchanged mod, and your mod. This runs a check over most things and generates a list of things your mod has changed. This is useful to look through to remember everything you changed, and spot any unintentional changes. </p> <p>The output is either XML or TSV. XML is easy to read if you open it in an editor with syntax highlighting, notepad++ for example. And TSV is a spreadsheet format; it can be opened in a spreadsheet editor such as google sheets.</p> Changelog  **Version 2.4**  - Changelist of Gimmick Range - Changelist for Move Range - Changelist for Scenario Building  **Version 2.3**  - Compatibility update for RanseiLink 5.1    **Version 2.2** - Fix broken changelist generation due to certain names now containing spaces. - Fix changelist generator incrementing id in wrong place, causing it to not work  **Version 2.1**  - Compatibility update for RanseiLink-4.1 - Changelist for episodes  **Version 2.0**  - Change name to from \u201cText Changelist Plugin\u201d to \u201cChangelist Plugin\u201d - Support changelists in many types  **Version 1.1**  - Safely handle when different number of messages in a block  **Version 1.0**  - Initial creation"},{"location":"getting-started/plugins/#disable-events-plugin","title":"Disable Events Plugin","text":"<p>Pok\u00e9mon Conquest's story runs on an event system. These events are defined in two files in the game's data. </p> <p>When you rename/delete these files, the game cannot find them so loads in a kind of sandbox state, where you are put directly onto the overworld map.</p> <p>This sandbox state is useful for testing since you can challenge ignis, in whatever battle config you assign to ignis, immediately without watching any cutscenes or tutorials.</p> <p>The people over at the Ransei Region Discord have also made use of this for competitive battling. They edit the pokemon, teams, and maps, then run an action replay code that gives you control over the opposing team.</p> Changelog  **Version 1.2**  - Fix the completion message being wrong  **Version 1.1**  - Compatibility update with RanseiLink 5.1  **Version 1.0**  - Initial creation"},{"location":"getting-started/plugins/#mass-action-plugin","title":"Mass Action Plugin","text":"<p>This has a few things where you often want to set a lot of values to the same thing at once. - Set all max-links at once - Set all warrior capacities at once - Set all IVs at once - Set all scenario pokemon initial links at once (optionionally for a specific scenario)</p> Changelog  **Version 2.1**  - Compatibility update for RanseiLink-4.1  **Version 2.0**  - Compatibility update for RanseiLink-4.0  **Version 1.1**  - Warrior Capacity  **Version 1.0**  - Initial creation - Max link - IVs - \"At least\" and \"exact\" options"},{"location":"getting-started/plugins/#partial-transfer-plugin","title":"Partial Transfer Plugin","text":"<p>This allows you to transfer specific parts of a mod to another easily. For example, you may want to copy only changes to text from one mod to another.</p> <p>There is the option of whether to transfer names. If unchecked, the names of pokemon, moves, items etc. will be preserved in the rom you are transferring to, but all other data will be transferred from the source mod.</p> Changelog   **Version 3.2**  - Transfer Banner - Transfer Gimmick Range - Transfer Scenario Building - Scenario Warrior / Pokemon / Kingdom Merged as one  **Version 3.1**  - Compatibility update for RanseiLink 5.1  **Version 3.0**  - Option to not transfer names - Block transferring invalid data between mods of different game codes  **Version 2.1**  - Compatibility update for RanseiLink-4.1 - Transfer Episode data  **Version 2.0**  - Compatibility update for RanseiLink-4.0 - Transfer new files used in mods including sprites, maps, battle configs, gimmicks, kingdoms  **Version 1.0**  - Initial creation - Transfer all RanseiLink 3.0 supported files between mods"},{"location":"getting-started/plugins/#randomizer-plugin","title":"Randomizer Plugin","text":"<p>This randomizes a mod. There is a guide for how to use it here. It's easy to cause early game softlocks when randomizing pokemon conquest, so this has lots of checks in place to try to prevent all that we know of.</p> <p>You can currently randomize: - Warrior's Pokemon - Pokemon's Abilities - Pokemon's Types - Pokemon's Moves - Move animations - Warrior Skills - Warriors - Battle Maps - Battle Background Colors - Pokemon's Stats</p> Changelog  **Version 3.1**  - Fix potential infinite loop  **Version 3.0**  - Randomise pokemon\u2019s stats - Randomise Warrior skills - Randomise Battle maps - Randomise battle background colours  **Version 2.1**  - Compatibility update for RanseiLink-4.1  **Version 2.0**  - Compatibility update for RanseiLink-4.0 - Make randomised type not put NoType for Type1  **Version 1.7**  - Separate \u201cAvoid Dummies\u201d option into moves and abilities  **Version 1.6**  - Remove accuracy checks that are unnecessary because moves never miss during the tutorial - Add check to make sure oichi doesn\u2019t take out koroku (causes a bugged \u2018back\u2019 button) - Add movement range checks for other tutorial pokemon (the base game has no &lt;2 range pokemon, so this shouldn\u2019t matter, but just in case someone randomises an edit)  **Version 1.5**    - Fix certain things (e.g. ability id filtering) lingering between runs of the randomizer because properties of the randomizer class itself were used to store these. Fix moves all code into a separate randomizer class that is created and used in the plugin, making it safe to use properties where necessary.  **Version 1.4**    - Stop softlock-causing animation from being picked - Stop NoAbility from being picked when choosing an ability when scenario pokemon are randomised but abilities aren\u2019t  **Version 1.3**    - Fix bug of max link raising not applying - Randomise what warriors are assigned to scenario warrior slots - Randomise move animations  **Version 1.2**    - Fix softlock minimization only applying if move randomization is selected - Improvements to softlock minimization  **Version 1.1**    - Softlock minimization  **Version 1.0**    - Initial port of randomizer code into plugin"},{"location":"getting-started/plugins/#softlock-checker-plugin","title":"Softlock Checker Plugin","text":"<p>This takes your mod and generates a report of known softlock causes it finds, plus a bit more useful information. Examples of things it will spot: - Inability to complete tutorial - Move animations that softlocks - Scenario pokemon with abilities that dont match their 3 possibilities, which cases a softlock in mystery springs. - Max link of 0 between an warrior and their starter scenario pokemon</p> Changelog  **Version 2.3**    - Compatibility update for RanseiLink 5.1  **Version 2.2**    - Add check for if a warrior has 0% max link with their scenario pokemon. This isn\u2019t technically a softlock, but it\u2019s still useful information for spotting mistakes.  **Version 2.1**    - Compatibility update for RanseiLink-4.1  **Version 2.0**    - Compatibility update for RanseiLink-4.0 - Fix WaitForInputIdle not working after windows11 notepad update which was leading to the temporary file being deleted before being opened  **Version 1.1**    - Remove accuracy checks that are unnecessary because moves never miss during the tutorial - Add check to make sure oichi doesn\u2019t take out koroku (causes a bugged \u2018back\u2019 button) - Add movement range checks for other tutorial pokemon than player  **Version 1.0**    - Initial creation - Checks   - Tutorial can be completed   - Scenario pokemon have an ability that is one of the pokemon\u2019s abilities   - Move animations are not causing softlocks"},{"location":"getting-started/plugins/#sprite-sheet-splitter","title":"Sprite Sheet Splitter","text":"<p>This is a tool to split a pokemon sprite sheet into it's constituent sprites. May be useful for some depending on how you design your custom pokemon sprites. You can learn about sprite editing with ranseilink here.</p> Changelog  **Version 1.2**    - Compatibility update for RanseiLink 5.1  **Version 1.1**    - Compatibility update for RanseiLink-4.1  **Version 1.0**    - Initial creation released at the same time as RanseiLink-4.0"},{"location":"getting-started/randomizer/","title":"Randomizer","text":"<p>In the Plugins folder next to the RanseiLink exe you will see the Randomizer Plugin.</p>"},{"location":"getting-started/randomizer/#create-mod","title":"Create Mod","text":"<p>Launch RanseiLink and click the \"Create Mod\" button  </p> <p></p> <p>Provide it with unchanged rom, and your desired title, version, author etc.</p> <p>Click \"Create\" and your mod should appear in the list.</p>"},{"location":"getting-started/randomizer/#randomize","title":"Randomize","text":"<p>Right click on the mod in the list then in the menu plugins -&gt; randomizer plugin  </p> <p></p> <p>Edit the configuration, checking what you want to randomize.</p> <p></p> <p>Tip</p> <p>In the randomizer options you will see \"Softlock minimization\". When checked, various measures are taken to minimize the chances of a softlock, particularly in the tutorial. But there is still no guarantee that you will not run into a softlock.</p> <p>Hit \"Randomize\" and it will randomize the data of your mod.</p>"},{"location":"getting-started/randomizer/#patch","title":"Patch","text":"<p>Finally, to patch the rom, create a copy of your original rom, then right click on the randomized mod</p> <p>Click \"Patch rom with mod\" and in the dialog uncheck \"Include sprites in patch\" since we haven't modified any images so it's unnecessary, and requires extra things to get working. Provide it with the rom you want to patch.  </p> <p></p> <p>Click \"Apply mod\" and it will begin patching and notify you soon of completion. Then your rom is ready to go.</p>"},{"location":"getting-started/scripting/sample-lua-scripts/","title":"Sample Lua Scripts","text":"<p>RanseiConsole supports scripting using Lua. You can run a lua script by:</p> <p><code>dotnet RanseiLink.Console.dll lua \"C:\\path\\to\\script.lua\"</code></p> <p>As a brief rundown, you have access to the following:</p> <ul> <li>service (an IDataService, a collection of services with the ability to retrieve and save data)</li> <li>enums (provides you with the ids pokemon, moves, etc.)</li> <li>lists of all enum items (under then name: \\s e.g. PokemonId -&gt; PokemonIds) <p>To start with scripting you need to first select or create a mod via the console. You can view your currently selected mod with</p> <p><code>dotnet RanseiLink.Console.dll current mod</code></p> <p>create a mod with</p> <p><code>dotnet RanseiLink.Console.dll create mod \"C:\\path\\to\\rom.nds\" --name MyMod --author Mia</code></p> <p>when you're done you can write to the rom file with</p> <p><code>dotnet RanseiLink.Console.dll commit mod \"C:\\path\\to\\rom.nds\"</code></p>"},{"location":"getting-started/scripting/sample-lua-scripts/#change-ability","title":"Change Ability","text":"<p>The following script will change umbreon's ability to blaze</p> <pre><code>local umbreon = service.Pokemon:Retrieve(5)\numbreon.Ability1 = AbilityId.Blaze\nservice.Pokemon:Save()\n</code></pre> <p>all the services follow a similar pattern of <code>Retrieve</code> and a single call to <code>Save</code> when you're done</p>"},{"location":"getting-started/scripting/sample-lua-scripts/#swap-atk-with-def-for-all-pokemon","title":"Swap Atk with Def for all pokemon","text":"<p><pre><code>for poke in luanet.each(service.Pokemon:Enumerate()) do\n    local atk = poke.Atk\n    poke.Atk = poke.Def\n    poke.Def = atk\nend\nservice.Pokemon:Save()\n</code></pre> Enumerate method on services returns an IEnumerable of all of the items. Use luanet.each to convert a C# IEnumerable to a lua enumerator.</p>"},{"location":"getting-started/scripting/sample-lua-scripts/#randomize-the-type-of-moves","title":"Randomize the type of moves","text":"<p>To randomize the type of all moves, we first need a random choice function</p> <pre><code>function randomChoice(items)\n    return items[math.random(#items)]\nend\n</code></pre> <p>then we can go through each move and set it to a random type</p> <pre><code>for move in luanet.each(service.Move:Enumerate()) do\n    move.Type = randomChoice(TypeIds)\nend\n\nservice.Move:Save()\n</code></pre>"},{"location":"guides/","title":"Guides","text":""},{"location":"guides/#image-editing","title":"Image Editing","text":"<p>Set up and customize the structure of your documentation by configuring the header and footer to your taste, choosing among many modes of navigation, setting up site search, and more.</p> <ul> <li> Introductory Walkthrough \u2013 Get to know the basics, and give the player a luscious moustache in the process!</li> <li> Image Types \u2013 Find out about the many different types of images you can edit with RanseiLink</li> <li> Sprite Creation \u2013 Learn from a master artist how to draw pokemon sprites in the conquest style</li> <li> Cell Animation \u2013 In-depth guide on creating cell animations for kingdoms and buildings.</li> </ul>"},{"location":"guides/#map-editing","title":"Map Editing","text":"<p>Set up and customize the structure of your documentation by configuring the header and footer to your taste, choosing among many modes of navigation, setting up site search, and more.</p>"},{"location":"guides/image-editing/battle-sprite-creation-process/","title":"Pokemon Battle Sprite Creation Process","text":"<p>So you've gone through the Image Editing Guide, understand the basics, and now want to make a custom battle sprite. Whether that be a palette swap, a Pokemon not in Conquest, or something else entirely, this guide will teach you how the sprite creation process works.</p> <p>Now I'll quickly recap the first few steps as they're mostly just repeats from the Image Editing Guide.</p> <ol> <li>Click the \"Populate Graphics Defaults\"</li> <li>Open up the sprites tab and go to \"Pokemon Battle Models\"</li> </ol> <p>Now you have access to every battle sprite and can import/export sprites of your choosing. However, do keep in mind that at the moment we can only replace Pokemon, so whatever you choose to add will result in someone being removed. </p> <p>Also understand in this process we will be attempting to copy the Conquest style. The proportions will match that of Conquest which Pokemon look like Chibi. </p> <p>Alright enough exposition, let's begin with the creation process.</p>"},{"location":"guides/image-editing/battle-sprite-creation-process/#choose-a-sprite-editing-tool","title":"Choose a sprite editing tool","text":"<p>A sprite editing program/tool. Now there are many programs that can be used and they're all largely the same. Since our sprites are very small there's nothing that programs really offer over one another that matters all too much. However, here are some programs that can be used for sprite work (some free, some paid).</p> <ul> <li>Microsoft Paint (Use the pencil tool)</li> <li>Krita (Pixel art brush)</li> <li>Aseprite</li> <li>Piskel</li> </ul> <p>Personally I use Aseprite, but as I said it really doesn't matter.</p>"},{"location":"guides/image-editing/battle-sprite-creation-process/#set-up-a-canvas","title":"Set up a canvas","text":"<p>The setup, to begin with we need a 32x32 size canvas. After all, that is the size of each individual frame of a Pokemon Battle Model.</p> <p></p>"},{"location":"guides/image-editing/battle-sprite-creation-process/#choose-a-pokemon","title":"Choose a pokemon","text":"<p>Next we will need to pick and choose a Pokemon or whatever kind of thing we choose to create. For this example I will create Cetitan from the new Scarlett and Violet games.</p> <p></p> <p>Make sure whatever it is you're creating you have a 3/4th angle view reference of them as that is the angle you will be making the sprites. I also recommend extracting a Pokemon Battle Model with a similar shape/design to get more reference. For Cetitan's case I believe Musharna will be a good reference to have on the side.</p> <p></p>"},{"location":"guides/image-editing/battle-sprite-creation-process/#understand-limitations","title":"Understand Limitations","text":"<p>Understanding our limitations is important. We cannot use more than 16 colors, but transparency counts as a color as well so the reality is we can only work with 15 colors. Also understand that you cannot go beyond the 32x32 size limit we have set. That is the maximum size limit and only working size limit. Make sure to not accidentally use a smaller or bigger canvas.</p> <p>Now that we've gotten all the setup out of the way we can now begin the process. Now the truth of the matter is that sprite art is very similar to normal art. Understanding proportions, shading, etc is all going to come into play. However, I will guide you through each process so you can hopefully understand even without a knowledge of art.</p>"},{"location":"guides/image-editing/battle-sprite-creation-process/#start-with-basic-shapes","title":"Start with basic shapes","text":"<p>To begin with, whatever you're creating you should break down to it's basic shapes. Cetitan seems to be a spherical Pokemon with small triangles coming out of it and square like legs.</p> <p></p>"},{"location":"guides/image-editing/battle-sprite-creation-process/#add-details","title":"Add details","text":"<p>Now let's flesh it out a bit more. Cetitan has a tail, feet, eyes, mouth, etc. Begin adding all the details one by one.</p> <p></p> <p>Alright, we now have a figure that much more represents Cetitan. It's not quite all there yet, but this is where we begin getting into the nitty gritty stuff.</p>"},{"location":"guides/image-editing/battle-sprite-creation-process/#outlines","title":"Outlines","text":"<p>Proper outlines of details and features. In Conquest there's 2 types of outlines. The outside very dark outlines that help capture the Pokemon's shape and the inside lighter outlines that help capture the Pokemon's features such as hands, head, neck, feet, etc.  First let's start with the harsh outside outline.</p> <p></p> <p>There. Now Cetitan has a nice outline that helps capture it's shape. Now for the outlines on the inside, take note of the differences.</p> <p></p> <p>As you can see, Cetitan's body shape is much more pronounced and apparent. I did a little clean up here and there, but for the most part what you see is the work of the inside outlines.</p>"},{"location":"guides/image-editing/battle-sprite-creation-process/#shading","title":"Shading","text":"<p>Now before we continue on, make sure to take note of the amount of colors you're using. At this point We're going to be needing a lot of extra colors for the shading. Currently I have only used 6 colors (7 counting transparency). If you go over the 16 limit Ransei Link will simplify the image and reduce the colors, but this may end up making the image not look the way you want it to.</p> <p>Let's begin the shading process. In Conquest, Pokemon have the light shined on them from the top left, meaning the bottom right segments are darker. Let's take a look at Umbreon and properly show it.</p> <p></p> <p>Let's use this knowledge to properly shade Cetitan.</p> <p></p> <p>I understand your first question may be to ask what happened, but I assure you all I did was properly shade. None of Cetitan's shape has changed, all the work was done on the space I made for Cetitan. As I said, art experience/knowledge will be a part of this. As much as I'd like to make it easier this is how the step goes. It's a huge leap and will require some knowledge and experience on your part as well, so get to practicing right now as you're following this guide and shade your thing!</p> <p>As a tip while shading I recommend zooming out from time to get a whole view picture and understand that this is how your sprite will look in game.</p> <p></p>"},{"location":"guides/image-editing/battle-sprite-creation-process/#clean-up","title":"Clean up","text":"<p>Just a little clean up left. Now is the time you fix any small things that you may have with your sprite. For me that's the top right horn of Cetitan being a bit off, so let's clean it up. Also some of the shading could be done a little bit better, so I'll clean it up a bit there too.</p> <p></p> <p>Once again, always look at the sprite while zoomed out too.</p> <p></p>"},{"location":"guides/image-editing/battle-sprite-creation-process/#end","title":"End","text":"<p>Well that's about it. Sure there's some things I may still need to change or brush up about my sprite, but now you understand the sprite creation process. Please do understand that this is my process, you're free to change it up however you want as long as you're satisfied with your end result.</p> <p>Don't forget to repeat all the steps when making a back sprite as well! Now since we haven't seen Cetitan's back I'll hold off assumptions trying to create one, but here's an example of a custom front and back sprite. Only difference for the back is that the light comes from the top right, so make sure to shade accordingly.</p> <p></p> <p>Guide made by - Snap</p>"},{"location":"guides/image-editing/cell-animation-editing/","title":"Cell Animation Editing","text":""},{"location":"guides/image-editing/cell-animation-editing/#introduction","title":"Introduction","text":"<p>You can edit various animated image sets in RanseiLink:</p> <ul> <li>Kingdom Top-Screen</li> <li>Kingdom Bottom-Screen</li> <li>Kingdom Icon</li> <li>Building Icon</li> </ul>"},{"location":"guides/image-editing/cell-animation-editing/#how-to-export-and-import-animations","title":"How to Export and Import Animations","text":"<p>A prerequisite is to \"Populate Graphics Defaults\", which you can do from the home screen in RanseiLink if you haven't already.</p> <p>For the Kingdom animations, if you open a mod and navigate to the \"Kingdom\" tab, you will see a list of animations to be exported:</p> <p></p> <p>There is three self explanatory buttons:</p> <ul> <li>Export: prompts you to choose a location to export the animation to</li> <li>Import: prompts you to choose an animation to import</li> <li>Revert: Changes the animation in that slot back to its default</li> </ul> <p>On the left of one slot in the above image there's a green tick, this indicates that you have overwritten the animation in this slot.</p> <p>For Building animation, there is a similar thing on the \"Building\" page. </p> <p></p> <p>Unlike for Kingdoms, this is independent of what Building you have selected since they are not tied directly to a building id. You use the number selector to choose which image to edit, and in the data of a building you choose which images to use for it. The little preview image is not the animation but the small still icon for that image slot, which you can edit on the \"Sprites\" tab, it's there purely to give you some extra visual indication of what slot you have selected.</p> <p>See shop uses slots 21, 22 and 23 icons, and this refers to both animated and still icons.</p> <p></p> <p>When you export the dialog will look like this:</p> <p></p> <p>Based on what animation type you choose, you may have multiple export formats to choose from. These formats will be covered in detail later.</p>"},{"location":"guides/image-editing/cell-animation-editing/#how-to-edit-animations","title":"How to Edit Animations","text":"<p>This section goes into details of the exported xml file, but you won't have to edit manually, you can use the animation editor RL-Animate.</p> <p>Quick rundown on RL-Animate:</p> <ul> <li>Put your exported folder next to the RL-Animate exe and run</li> <li>Left and Right arrow keys swap you between tabs</li> <li>The X key acts as \"Ok\", kinda like A on a controller, and the Z key is \"Back\", kinda like B on a controller.</li> <li>Go into edit move on a value with the X key, then use arrow keys to edit the value, Z exits edit mode.</li> <li>Open context menu for more actions on list items with the S key.</li> <li>Swap between displaying all animations at once, and only the selected animation with the A key</li> <li>Save changes to the file with the Q key.</li> <li>All controls subject to change.</li> </ul>"},{"location":"guides/image-editing/cell-animation-editing/#basics","title":"Basics","text":"<p>When exporting you will get a folder like this:</p> <p></p> <p>In this example I've exported \"OneImagePerBank\", and this means multiple \"cells\" are merged into one image, which you may or may not find more convenient for editing.</p> <p>In the animation xml file you will find two sections:</p> <p>The second section has each animation that plays, each of which has a name. These cycle through a set of frames in reverse order (i.e. the first one in the list is drawn on top of the second one, second on top of third, and so on), and each frame is held for the given duration of visual frames.</p> <pre><code>&lt;animation_collection&gt;\n    &lt;animation name=\"reflection\"&gt;\n      &lt;frame cluster=\"cluster_3\" duration=\"8\" /&gt;\n      &lt;frame cluster=\"cluster_2\" duration=\"8\" /&gt;\n      &lt;frame cluster=\"cluster_1\" duration=\"8\" /&gt;\n      &lt;frame cluster=\"cluster_0\" duration=\"180\" /&gt;\n    &lt;/animation&gt;\n    &lt;animation name=\"flag_r\"&gt;\n      &lt;frame cluster=\"cluster_4\" duration=\"12\" /&gt;\n      &lt;frame cluster=\"cluster_5\" duration=\"12\" /&gt;\n      &lt;frame cluster=\"cluster_6\" duration=\"12\" /&gt;\n      &lt;frame cluster=\"cluster_7\" duration=\"12\" /&gt;\n    &lt;/animation&gt;\n    &lt;animation name=\"flag_l\"&gt;\n      &lt;frame cluster=\"cluster_8\" duration=\"12\" /&gt;\n      &lt;frame cluster=\"cluster_9\" duration=\"12\" /&gt;\n      &lt;frame cluster=\"cluster_10\" duration=\"12\" /&gt;\n      &lt;frame cluster=\"cluster_11\" duration=\"12\" /&gt;\n    &lt;/animation&gt;\n  &lt;/animation_collection&gt;\n</code></pre> <p>For image types with arbitrary animation names and amounts, there's an annoying restriction that you can't have more separate animations than were originally in there for that slot. It causes stuff to break catastrophically making me think there's something hardcoded saying how many animations to expect in the file.</p> <p>The other section holds the \"cluster\" that a frame points to. The \"name\" of each can be whatever you want, so long the animation frames accurately point to one of those names. </p> <ul> <li>If the format is \"OneImagePerCluster\", you will see one file for each \"cluster\" element, and the cells will specify position plus width and height where they are located within that file.</li> <li>If the format is \"OneImagePerCell\", you will see one file for each \"cell\" element, and in this case the cells should only specify an x and y position, as the width and height is inferred from the size of the file.</li> </ul> <pre><code>&lt;cell_collection format=\"OneImagePerCluster\"&gt;\n    &lt;cluster name=\"cluster_0\" file=\"0000.png\" /&gt;\n    &lt;cluster name=\"cluster_1\" file=\"0001.png\"&gt;\n      &lt;cell x=\"97\" y=\"3){ width=\"64\" height=\"32\" /&gt;\n    &lt;/cluster&gt;\n    &lt;cluster name=\"cluster_2\" file=\"0002.png\"&gt;\n      &lt;cell x=\"97\" y=\"3){ width=\"64\" height=\"32\" /&gt;\n    &lt;/cluster&gt;\n    &lt;cluster name=\"cluster_3\" file=\"0003.png\"&gt;\n      &lt;cell x=\"97\" y=\"3){ width=\"64\" height=\"32\" /&gt;\n    &lt;/cluster&gt;\n    &lt;cluster name=\"cluster_4\" file=\"0004.png\"&gt;\n      &lt;cell x=\"157\" y=\"35){ width=\"64\" height=\"32\" /&gt;\n    &lt;/cluster&gt;\n    &lt;cluster name=\"cluster_5\" file=\"0005.png\"&gt;\n      &lt;cell x=\"157\" y=\"35){ width=\"64\" height=\"32\" /&gt;\n    &lt;/cluster&gt;\n    &lt;cluster name=\"cluster_6\" file=\"0006.png\"&gt;\n      &lt;cell x=\"157\" y=\"35){ width=\"64\" height=\"32\" /&gt;\n    &lt;/cluster&gt;\n    &lt;cluster name=\"cluster_7\" file=\"0007.png\"&gt;\n      &lt;cell x=\"157\" y=\"35){ width=\"64\" height=\"32\" /&gt;\n    &lt;/cluster&gt;\n    &lt;cluster name=\"cluster_8\" file=\"0008.png\"&gt;\n      &lt;cell x=\"64\" y=\"16){ width=\"32\" height=\"64\" /&gt;\n    &lt;/cluster&gt;\n    &lt;cluster name=\"cluster_9\" file=\"0009.png\"&gt;\n      &lt;cell x=\"64\" y=\"16){ width=\"32\" height=\"64\" /&gt;\n    &lt;/cluster&gt;\n    &lt;cluster name=\"cluster_10\" file=\"0010.png\"&gt;\n      &lt;cell x=\"64\" y=\"16){ width=\"32\" height=\"64\" /&gt;\n    &lt;/cluster&gt;\n    &lt;cluster name=\"cluster_11\" file=\"0011.png\"&gt;\n      &lt;cell x=\"64\" y=\"16){ width=\"32\" height=\"64\" /&gt;\n    &lt;/cluster&gt;\n  &lt;/cell_collection&gt;\n</code></pre> <p>A cluster is essentially a group of one or more cells which are always drawn at the same time. These are drawn in reverse priority order.</p> <p>The following is a depiction showing borders of cells, this may help you visualise the idea of how it works, with each square representing a cell, and each color a cluster.</p> <p></p> <p>The width and height of cells must be one of a fixed set of choices. This is because within the format used in-game, they are not actually stored as numbers, but rather as a \"shape\" and \"scale\":</p> Small Medium Large XLarge Square 8x8 16x16 32x32 64x64 Wide 16x8 32x8 32x16 64x32 Tall 8x16 8x32 16x32 32x64"},{"location":"guides/image-editing/cell-animation-editing/#kingdom-top-screen","title":"Kingdom Top-Screen","text":"<ul> <li>These come paired with a still-image variant on the Sprites page. This is used in certain places in the game where they want the background and animated parts without playing the animation.</li> </ul>"},{"location":"guides/image-editing/cell-animation-editing/#kingdom-bottom-screen","title":"Kingdom Bottom-Screen","text":"<ul> <li>The background image of these allows slightly less than the 256 color palette, because there's a blank section at the start that gets populated with some unknown information when the image gets loaded in-game.</li> <li>Some of the kingdom slots don't support animation because the originals aren't animated, this would require adding new files to the file system which RanseiLink's file editor doesn't support yet.</li> </ul>"},{"location":"guides/image-editing/cell-animation-editing/#kingdom-icon","title":"Kingdom Icon","text":"<ul> <li>When editing these you should leave the animations names the same, but you can edit the frames all you want to achieve the animation. See ones like ignis and fontaine for examples of animated icons. You don't have to animate them though, aurora is an example of one without animation.</li> <li>These have a small 16 color palette so it's recommended to take care wheen creating your images rather than relying on automatic palette simplification</li> </ul>"},{"location":"guides/image-editing/cell-animation-editing/#building-icon","title":"Building Icon","text":"<ul> <li>This is very similar to the kingdom icons, but it's a bit bigger so the main image is split into 4 cells.</li> <li>You can find the smaller icon variants, which are not animated, on the sprites page.</li> </ul>"},{"location":"guides/image-editing/cell-animation-editing/#interesting-bugs-in-official-animations","title":"Interesting Bugs in Official Animations","text":"<p>In Cragspur, if you look at the top when the shine animation plays, the top line gets covered by blue sky.</p> <p></p> <p>In illusio on the floating building in the bottom left, there is a gold spire that sticks out to the right. The tip of that spire lags behind the rest for a few frames each cycle.</p> <p></p>"},{"location":"guides/image-editing/image-types/","title":"Image Types","text":""},{"location":"guides/image-editing/image-types/#pokemon-battle-sprites","title":"Pokemon Battle Sprites","text":"<p>The animated sprites displayed in-battle for pokemon. They justify their own dedicated page to explain how to create and import them:</p> <p>Pokemon Battle Sprite Guide</p>"},{"location":"guides/image-editing/image-types/#warrior-battle-speak","title":"Warrior Battle Speak","text":"<p>These are what shows during battle when the warrior orders the pokemon to use an attack. The green border is replaced with flashing color. You should surround your image with this green border.</p>"},{"location":"guides/image-editing/image-types/#warriorpokemon-battle-intro","title":"Warrior/Pokemon Battle Intro","text":"<p>These are the leader of the army image which slides in from the side of the screen during the intro of the battle along with the pokemon image (the position that it stops at can be adjusted in ranseilink on the pokemon page).</p>"},{"location":"guides/image-editing/image-types/#game-intro-player","title":"Game Intro Player","text":"<p>This is shown on the player gender select screen</p>"},{"location":"guides/image-editing/image-types/#warrior-xlarge","title":"Warrior XLarge","text":"<p>A lot of these are empty placeholders, but if you scroll down you will see the sprites used for things like shopkeepers</p>"},{"location":"guides/image-editing/image-types/#warrior-medium","title":"Warrior Medium","text":"<p>These are shown on the top screen during a battle</p>"},{"location":"guides/image-editing/image-types/#warrior-small-kingdom-castle-icon-pokemon-small","title":"Warrior Small / Kingdom Castle Icon / Pokemon Small","text":"<p>These little square icons are used in various places to give a compact representation of a warrior/kingdom/pokemon. e.g. The screen where you choose what warriors to bring to a battle, the gallery list etc. There is one pokemon for left and right, because some are asymmetrical.</p>"},{"location":"guides/image-editing/image-types/#warrior-large","title":"Warrior Large","text":"<p>These are large images of warriors used during dialog, and in some other places. Each warrior has multiple sprites for each emotion. The emotion used is specified alongside the message in the Text editor in RanseiLink.</p>"},{"location":"guides/image-editing/image-types/#battle-terrain-icon","title":"Battle Terrain Icon","text":"<p>This is shown on the top screen as you move the cursor around in battle, and indicates the terrain-type of that cell. You can modify the terrain in the map editor. It has interesting not-obvious functions, for example grass type pokemon controlled by the AI will prefer to move to grass terrain.</p>"},{"location":"guides/image-editing/image-types/#event-image","title":"Event Image","text":"<p>Just some nicely-drawn images that show up while on-screen text is describing some events.</p>"},{"location":"guides/image-editing/image-types/#event-background","title":"Event Background","text":"<p>Fullscreen images that show up in various places, one of which is the background while conversations go on in the foreground.</p>"},{"location":"guides/image-editing/image-types/#pokemon-medium","title":"Pokemon Medium","text":"<p>There is left and right because some pokemon are asymmetrical. They're called unknown just because I wasn't sure where in particular they were from in the game, and I just never updated the name. They appear in various places.</p>"},{"location":"guides/image-editing/image-types/#pokemon-large","title":"Pokemon Large","text":"<p>These are large drawings of pokemon in dynamic poses, used when a pokemon is evolving, and many other places. There is one for each pokemon.</p>"},{"location":"guides/image-editing/image-types/#pokemon-xlarge","title":"Pokemon XLarge","text":"<p>These may pop up alongside the warrior if they have this pokemon in their party. We haven't figured out what maps pokemon-id to sprite-id yet.</p>"},{"location":"guides/image-editing/image-types/#staff-roll","title":"Staff Roll","text":"<p>The game credits. Yuki Okamoto is the Tools Programmer; I'd love to see the tools they used to develop this game!</p>"},{"location":"guides/image-editing/image-types/#gimmick-objects","title":"Gimmick Objects","text":"<p>These are shown on the top screen in battle when you hover over a gimmick object. What could this scarecrow have been planned for?</p>"},{"location":"guides/image-editing/image-types/#title","title":"Title","text":"<p>A collection of images, mainly for the title screen of the game, so you can customise this to match your rom hack.</p>"},{"location":"guides/image-editing/introductory-walkthrough/","title":"Introductory Walkthrough","text":"<p>This will show you how to modify images with RanseiLink step by step.</p> <p>We will modify the sprite of the player to have a luscious moustache:</p> <p></p> <p>First, if not already, you will need to populate the default sprites in ranseilink</p> <p></p> <p>Click the 'Populate Graphics Defaults' button on the home screen, and provide it with an UNCHANGED ROM and it will extract the files it needs. These files are shared between all mods.</p> <p>Now, if you create a mod, and open it up you will see sprites in the 'Sprites' tab. In the drop down, select 'Warrior Large'</p> <p></p> <p>Here you see the default warrior sprites. At the top right is the dimensions of this sprite type, and the color limitations. For most sprite types the dimensions are not a requirement, but rather they are what the game expects, so different dimensions will likely look wrong in the game.</p> <p>Right click on an image and see a context menu with 3 actions:</p> <ul> <li>Import Override: import an image to replace the image. This includes some automated features 1. optional resize image, 2. required palette simplification if the image you provide uses more colors than is allowed for this image type</li> <li>Revert to Default: removes an override you have previously set, reverting back to the default image</li> <li>Export Image: export the current image in this slot to a folder of your choice</li> </ul> <p>I am going to export the image of male player and draw a splendid moustache</p> <p></p> <p>\u00a1PERFECTO!</p> <p>Now in ranseilink I right click on the image I want to replace and click 'Import Override', then in the file picker choose the file I want to replace it with. If you have added additional colours it will trigger the palette simplifier. This will automatically reduce the colors of an image while changing it minimally. For most images there are 256 allowed colors, so the difference will not be noticable.</p> <p>Now you will see your image in the list:</p> <p></p> <p>Now patch a copy of your original rom with the changes. There is a quick access button for patching in the bottom left of the screen:</p> <p></p> <p>And now load up the rom and see the changes:</p> <p></p> <p>\u00a1EXCELENTE!</p>"},{"location":"guides/image-editing/pokemon-battle-sprite-guide/","title":"Pokemon Battle Sprite Guide","text":""},{"location":"guides/image-editing/pokemon-battle-sprite-guide/#what-is-in-a-sprite-sheet","title":"What is in a sprite sheet","text":"<p>The pokemon battle sprites are stored as 3D models, but they are flat so the textures can be exported as sprite sheets. Here are some examples:</p> <p></p> <p>The first thing to note is the different animations:</p> <ul> <li>The first column contains idle animations, and damage animations.</li> <li>The second column is attack animation</li> <li>The third column is damage animation, but seems to be duplicate of stuff in column 1, so I'm not sure yet if these are used in the game</li> <li>The fourth column is duplicates of idle animation, and sleep animation</li> </ul> <p>The second thing to note is the different amounts of images for different pokemon.</p> <ul> <li>See that leafeon is asymmetrical, so has twice as many of each sprite, but only 3 frames in each animation instead of 4.</li> <li>See that dragonair has twice as many sprites in it's attack animation</li> <li>See that lilligant has both asymmetrical sprite, and twice as many sprites in it's attack animation</li> </ul> <p>Here is a guide by snap on creating sprites in the pokemon conquest style: Pokemon Battle Sprite Creation Process</p>"},{"location":"guides/image-editing/pokemon-battle-sprite-guide/#asymmetry-and-animations","title":"Asymmetry and Animations","text":""},{"location":"guides/image-editing/pokemon-battle-sprite-guide/#creating","title":"Creating","text":"<p>When creating a sprite sheet, you should match your sprite to one of the 4 possibilities mentioned above</p> <ol> <li>Regular</li> <li>Asymmetrical Only</li> <li>Long-Attack Only</li> <li>Both Asymmetrical, and Long-Attack</li> </ol> <p>Previewer Application to help you preview your sprite sheet and animations.</p>"},{"location":"guides/image-editing/pokemon-battle-sprite-guide/#importing","title":"Importing","text":"<p>When you import your sprite sheet into a pokemon slot, you need to make sure to update two things:</p> <ol> <li>The animation XML</li> <li>The checkboxes on the pokemon page</li> </ol> <p>You can get all of this done from the pokemon page:</p> <p></p> <p>The exact timings of animations likely don't matter too much, so you probably won't need to modify the animation files, but rather just make sure to export and import the right ones.</p> <p>So essentially, it's as simple as:</p> <ol> <li>If the pokemon who's sprite your replacing already matches, you don't need to do anything</li> <li>Export an animation from a pokemon who's default sprite animation matches your imported sprite sheet</li> <li>Import that animation to the pokemon slot you put your sprite sheet in</li> <li>The checkboxes should be updated automatically when you import the animation, since this is stored in the XML for convenience, but you can double check they're correct - it's a good indicator that the animation you imported is correct.</li> </ol>"},{"location":"guides/image-editing/pokemon-battle-sprite-guide/#advanced-details-on-animation-xml-files","title":"Advanced details on animation xml files","text":"<p>Like I said, you probably won't need to worry about this stuff, but it's here in case you do:</p> <ul> <li>This file is used to specify the animation keyframes</li> <li>XML can be opened and edited in a text editor</li> <li>Work off of a pre-existing one to help understand what texture names to use.</li> <li>You will see two animation libraries in the file. Not sure if the second one is used yet, and the second one is also very stripped down, not sure how they decide which texture to show, or if this is even used, but I've included it just in case.</li> <li>There are two palettes for each pokemon \"base_fix_f_pl\" and \"base_fix_b_pl\". It's not actually consistent that they are used for back and front, and it seems the two palettes are always identical anyway, so ranseilink just generates a single palette and duplicates it.</li> </ul>"},{"location":"guides/image-editing/pokemon-battle-sprite-guide/#sprite-sheet-splitter-plugin","title":"Sprite sheet splitter plugin","text":"<p>A plugin that may be useful to you is the 'Sprite Sheet Splitter' plugin. It splits a sprite sheet into a folder of all the component 32x32 frames, which may or may not be useful based on your design process.</p> <p>To use it:</p> <ol> <li>First export one of the pokemon battle model sprite sheets</li> <li>Run the plugin 'Sprite Sheet Splitter' and you will see a dialog</li> <li>Choose the option 'Split' and in the file picker locate the sprite sheet you just exported</li> <li>Now you will see a configuration page with 'sprite width', 'sprite height' (accidentally called sprite width again atm), and split direction. The default configuration is set up for the pokemon battle sprite sheets, so you can just click 'Go' and it will split the sheet. You will see a folder appear in the same location as the sprite sheet containing the constituent sprites.</li> </ol> <p>And then to rebuld a sprite sheet:</p> <ol> <li>When launching the plugin, instead select select 'Create'</li> <li>Then in the folder picker, choose the folder containing the sprites you want to put together into a sprite sheet</li> <li>On the configuration, once again the defaults are set up for pokemon battle sprite sheets, so just click 'Go' and the sprite sheet will be created</li> </ol>"},{"location":"guides/map-editing/map-editing/","title":"Editing 3D Models of Maps","text":"<p>To edit 3D models of maps you will need RanseiLink v5.0 or above, as well as an external 3D modelling software. This guide will use blender, but if you have experience with another software you should be able to get the job done with that too.</p> <p>Also make sure you have clicked the button \"Populate Graphics Defaults\" on the home screen of RanseiLink.</p>"},{"location":"guides/map-editing/map-editing/#1-exporting-the-model","title":"1. Exporting the model","text":"<p>Create a new mod, and enter into it. Navigate to the \"Map\" tab, and within there the \"Import/Export\" tab.</p> <p></p> <p>You will see multiple export options.</p> PSLM PSL is the \"code name\" of pokemon conquest. This file contains the map data that you can edit on this page, EXCEPT THE 3D MODEL. That is, locations of gimmicks, pokemon, terrain types, elevation values etc. PAC PAC is the 3D model data as it is stored in the game in a single file. This does not include the data in the PSLM. This may be useful for moving maps, or as a convenient way of sharing your final results. OBJ OBJ is Wavefront OBJ. This is a standard format that can be imported and exported from most 3D editors. It will actually export a collection of files all related to the OBJ. <p>We will be exporting to OBJ. Once exported you will see a folder like this:</p> <p></p> <p>The files you see in this folder:</p> OBJ OBJ is Wavefront OBJ. MTL This is a Wavfront Material Template Library. This is a companion file to the OBJ, containing the materials used by model PNG These are the textures used by materials in the MTL NSBTA Nitro Sdk Binary Texture Animations: This is nintendo ds's UV animation format, e.g. moving lava. I haven't got an exporter working for these yet, so if you are just adding to an existing model the animations should continue to work, otherwise just omit this file before importing."},{"location":"guides/map-editing/map-editing/#2-import-into-blender","title":"2. Import into blender","text":"<p>The way you import into and export from blender is important, follow these steps carefully.</p> <p>Launch blender and delete the default objects to have a clear scene:</p> <p></p> <p>You can open the obj in blender <code>File &gt; Import &gt; Wavefront (.obj)</code>:</p> <p></p> <p>THE SETTINGS ARE VERY IMPORTANT</p> <p>The default settings should be correct, but make sure it says \"split by objects\"</p> <p></p> <p>Loaded correctly the scene should look like this.</p> <p></p> <p>View the textures on the texture paint tab:</p> <p></p> <p>The model is quite big, so it will likely look clipped. You, bagon, can increase the clipping distance with <code>View</code> and turn on the sidebar, then on the <code>View</code> tab of the sidebar, increase the clip end.</p> <p></p>"},{"location":"guides/map-editing/map-editing/#3-editing-the-model","title":"3. Editing the model","text":"<p>I will show you some basic edits, but it is beyond the scope of this tutorial to properly teach you 3D modelling.</p>"},{"location":"guides/map-editing/map-editing/#scale-and-orientation","title":"Scale and orientation","text":"<ul> <li>The PSLM defined in ranseilink is centered on your 3D model. </li> <li>One square on the grid in RanseiLink is equivalent to 100x100m in the 3D model.</li> <li>If you assess the elevation map in RanseiLink, you will see that they tend to choose heights in specific steps, multiples of 12.5m.</li> <li>The orientation of the map in RanseiLink corresponds to +X an -Y in the 3D model:</li> </ul>"},{"location":"guides/map-editing/map-editing/#editing-textures","title":"Editing textures","text":"<p>Edit the textures as you wish, keep in mind you have palette count limits. ATM the importer uses 256 color palettes for everything, and only supports full-transparency, not semi-transparency. This is not set in stone however.</p> <p>The command <code>simplify palette &lt;imagePath&gt; &lt;maxColors&gt;</code> may help you simplify the image.</p>"},{"location":"guides/map-editing/map-editing/#adding-an-object","title":"Adding an object","text":"<p>I will add a simple cube for this example.</p> <p>Hit <code>Shift+A</code> and select cube to add a cube</p> <p></p> <p>It will appear in the scene collection on the right. You can rename it, but remember there is a 16 character limit on names. Scale the cube up using the scale tool. I have named it \"polygon17\", scaled it up, and moved it to above the water.</p> <p></p> <p>On the texture paint tab, you should select the cube object, and see in the bottom right it has no material yet. Click \"new\" to add a material.</p> <p></p> <p>Click new and it creates a new material. Rename the material if you like, making sure to stay within the 16 character limit. You can edit diffuse, ambient, specular color, and alpha. </p> <p>In the material info, by \"Base Color\" click the yellow dot and select \"Image texture\".</p> <p></p> <p>Now you can choose an image from your file system, but we are going to click to create a new image</p> <p>Because of how texture width and height are stored, a dimension can only have values: 8, 16, 32, 64, 128, 256, 512, 1024.</p> <p>I will create a 64x64 texture for the cube. The name must be less than 13 characters because the palettes are stored as _pl so we have 3 less than the normal 16 length name limit. <p></p> <p>Then edit the texture. It has the cube UV map, but you can create a more complex shape and unwrap the UV, but this is just general 3D modelling knowledge that you will need to learn. For now, this is what I have, a cube with a smiley face:</p> <p></p> <p>Make sure to save the image <code>Image &gt; Save</code>, then we can export the model.</p>"},{"location":"guides/map-editing/map-editing/#4-exporting-from-blender","title":"4. Exporting from blender","text":"<p><code>File &gt; Export &gt; Wavefront (.obj)</code></p> <p>The settings are once again very important</p> <p>Objects as \"OBJ objects\"</p> <p></p> <p>You should see the obj and mtl files appear. The textures will be wherever those files were located originally, and wherever you saved your custom textures too. Be careful moving the obj file around, since these may be relative paths. You can easily open the mtl file in a text editor and see, and change if necessary.</p> <p>You open the .obj in a text editor to confirm things are looking right. If exported with the correct settings, you should see a <code>o</code> line for each object in blender: <code>o polygon0</code>, <code>o polygon1</code> etc.</p>"},{"location":"guides/map-editing/map-editing/#5-importing-back-into-ranseilink","title":"5. Importing back into RanseiLink.","text":"<p>As mentioned earlier, decide whether you need to include or omit the NSBTA. Then proceed with importing.</p> <p>Back on the map import/export tab in RanseiLink, choose the option <code>Import 3D Model From OBJ</code>. Pick the obj, and it will import it. It will now have a green tick indicating that it's overwritten.</p> <p>You will also want to modify the PSLM elevation and terrain to match your 3D model on the relevant tabs.</p>"},{"location":"guides/map-editing/map-editing/#6-hope-it-worked","title":"6. Hope it worked","text":""},{"location":"research/file-formats/link-archive/","title":"LINK Archive","text":"<p>Fun fact, this is what RanseiLink is named after.</p> <p>Code to unpack</p> <p>The Link Archive is an archive format used in Pokemon Conquest (I assume it was made for this game as the word LINK is possibly a reference to the game). It seems to be made to group data of an image. Usually has the file extension G2GR. They tend to contain some of the Nintendo standard file formats:</p> <ul> <li>RNAN (Nintendo Animation Resource)</li> <li>RGCN (Nintendo Character Graphic)</li> <li>RECN (Nintendo Cell Resource)</li> <li>RLCN (Nintendo Color Resource)</li> </ul> <p>The header has the structure:</p> Offset Value Type Used for 0x00 4 byte magic number This is just the Utf8 string \"LINK\" 0x04 Int32 Number of files 0x08 Int32 Multiplier used to scale the file offsets 0x12 4 bytes Always 0, maybe padding to make the header 16 bytes? <p>After that is a file allocation table, with each 8 byte entry containing:</p> Offset Value Type Used for 0x00 Int32 Scaled down offset of file 0x04 Int32 Length of file <p>To get a file, you go to its index in the file allocation table, then you multiply the offset in its entry by the multiplier found in the header.</p> <p>Weirdly, there does seem to be some zero width files.</p>"},{"location":"research/file-formats/nds-file-system/","title":"NDS File System Structure","text":"<p>This explains the relevant parts of the NDS File System.</p>"},{"location":"research/file-formats/nds-file-system/#header","title":"Header","text":"<p>The important parts of the header are</p> Offset Value Type Used for 0x40 Int32 Start offset of Name Table 0x48 Int32 Start offset of File Allocation Table"},{"location":"research/file-formats/nds-file-system/#name-table","title":"Name Table","text":"<p>The name table stores the names of the files and the structure of the file system. From the information stored, the index of the the file's entry in the File Allocation Table can be found.</p> <p>It is split into two parts:</p> <ul> <li>Folder Allocation Table</li> <li>Name List</li> </ul>"},{"location":"research/file-formats/nds-file-system/#folder-allocation-table","title":"Folder Allocation Table","text":"<p>Each folder in the file system has a 8 byte long entry. The first one is for the root folder, and acts as an entry point to the file system. Each entry looks something like this:</p> <p><code>DF 01 00 00 6F 01 02 F0</code></p> <p>Within the entry is the following information</p> Offset Value Type Used for 0x00 Int32 Start offset of folder contents within Name List relative to start of NameTable 0x04 Int16 Index of first file within folder in File Allocation Table 0x06 Byte/Int16 Byte Index of parent folder in current table; for root folder this is an int16 which holds the number of entries in the table 0x07 Byte Unknown, always 0xF0 except for root folder where it is part of above"},{"location":"research/file-formats/nds-file-system/#name-list","title":"Name List","text":"<p>The name list holds the names of the folders, and their contents in order, with references back to the Folder Allocation Table. </p> <p>Example:</p> <p><code>86 64 6C 5F 72 6F 6D 25 F0</code></p> <p>Information Contained:</p> Offset Value Type Used for 0x00 Byte The least significant 7 bits store the length of the name, and the most significant bit indicates whether it is a folder (1 = folder, 0 = file). 0x01 ... Utf8 String The variable length name Finally UInt16 Only there if it is a folder. Refers to the the index of it within the Folder allocation table, allowing its contents to be found. <p>You can find the offset of a particular file within the File Allocation Table by keeping count of the file's index with a folder, and adding that to the index of the first file within the folder (stored within the entry of the folder within the Folder Allocation Table).</p>"},{"location":"research/file-formats/nds-file-system/#file-allocation-table","title":"File Allocation Table","text":"<p>The structure of the file allocation table is very simple, it's just a table of 8 byte entries, e.g.:</p> <p><code>00 A4 07 00 04 A8 07 00</code></p> <p>The entry is just two int32 values referring to global offsets:</p> Offset Value Type Used for 0x00 Int32 Start offset of file 0x04 Int32 End offset of file (after this is padding)"},{"location":"research/game-data/pokemon-battle-intro-sprite-offset/","title":"Pokemon battle intro sprite offset","text":""},{"location":"research/game-data/pokemon-battle-intro-sprite-offset/#pokemon-battle-intro-sprite-offsets","title":"Pokemon Battle Intro Sprite Offsets","text":"<p>Examples of battle intro offsets</p> <p>Which pokemon have which values: https://pastebin.com/kt1jCzzJ </p> <p>``</p>"},{"location":"research/game-data/pokemon-battle-intro-sprite-offset/#0-unused","title":"0 (unused)","text":""},{"location":"research/game-data/pokemon-battle-intro-sprite-offset/#1-eg-mismagius","title":"1 (e.g. mismagius)","text":""},{"location":"research/game-data/pokemon-battle-intro-sprite-offset/#2-eg-eevee","title":"2 (e.g. eevee)","text":""},{"location":"research/game-data/pokemon-battle-intro-sprite-offset/#3-unused-slightly-to-the-right-of-2","title":"3 (unused, slightly to the right of 2)","text":""},{"location":"research/game-data/pokemon-battle-intro-sprite-offset/#4-eg-reshiram","title":"4 (e.g. reshiram)","text":""},{"location":"research/game-data/pokemon-battle-intro-sprite-offset/#5-causes-the-game-to-freeze","title":"5 (causes the game to freeze)","text":""},{"location":"research/game-data/pokemon-battle-intro-sprite-offset/#6-the-pokemon-isnt-visible","title":"6 (the pokemon isn\u2019t visible)","text":""},{"location":"research/game-data/pokemon-battle-intro-sprite-offset/#7-weirdly-back-towards-the-middle-again-between-0-and-1","title":"7 (weirdly back towards the middle again, between 0 and 1)","text":""},{"location":"research/game-data/pokemon-models/","title":"Pokemon Models","text":"<p>Pokemon models are 2D sprites that function as 3D models so they can be placed in the 3D environment.</p>"},{"location":"research/game-data/pokemon-models/#files","title":"Files","text":"<p>There is 4 folders:</p> <ul> <li>TEX.ALL - Palette + Idle Sprites + Damage Sprites</li> <li>ATX .ALL - Attack sprites</li> <li>DTX.ALL - Damage Sprites duplicates</li> <li>PAC.ALL - 3D model and sleep sprites</li> </ul> <p>These are LINK archives.</p> <p>TEX contains NSBTX files, which is a nintendo standard texture file. They contain the palette which is used by all the other files, and they contain idle and damage sprites.</p> <p>ATX contains raw pixel data for attack sprites.</p> <p>DTX contains raw pixel data for damage sprites, but these seem to be duplicates of the ones that are in TEX</p> <p>PAC contains the 3D models of nintendo standard format NSBMD. The 3D model data is pretty much identical for all pokemon, the variations seem to be entirely based on the variant groups explained below.</p>"},{"location":"research/game-data/pokemon-models/#variant-groups","title":"Variant Groups","text":"<p>There are several variants of sprites, which is expected by the game is defined in the pokemon data.</p> <pre><code>Rayquaza, Leafeon, Litwick, Beldum, Sewaddle, Kadabra, Simisear, Drilbur\n| DTX 3,3,3,3         = 12\n| ATX 4,4,4,4         = 16\n| PAC 3,3,3,3,3,3,3,3 = 24\n\nEevee, Pichu\n| DTX 4,4             =  8\n| ATX 4,4             =  8\n| PAC 4,4,4,4         = 16\n\nLiligant, Cinccino\n| DTX 3,3,3,3         = 12\n| ATX 8,8,8,8         = 32\n| PAC 3,3,3,3,3,3,3,3 = 24\n\nSamurott, Dragonair, Aggron, Volcarona, Whirlipede, Sealeo, Steelix\n| DTX 4,4             = 8\n| ATX 8,8             = 16\n| PAC 4,4,4,4         = 16\n</code></pre> <p>Leafeon is asymmetrical. Dragonair has a double duration attack animation Liligant has both asymmetrical sprite, and double duration attack animation</p> <p></p>"},{"location":"research/game-data/regional-differences/","title":"Regional Differences","text":"<p>Pok\u00e9mon Conquest was released in different countries, and as it goes with nds games, there is region specific versions of the roms</p> Game Code Region VPYJ Japan VPYT North America VPYP Europe <p>VPYT and VPYP are mostly the same, only difference I\u2019ve noticed so far is two text changes:</p> Difference between NA (before), and EU (after)<pre><code>&lt;changelist&gt;\n  &lt;type name=\"Messages\"&gt;\n    &lt;object name=\"Block_2_Msg_43\"&gt;\n      &lt;property name=\"Text\"&gt;\n        &lt;before&gt;Sort by kingdom&lt;/before&gt;\n        &lt;after_&gt;Sort by Pok\u00e9dex No.&lt;/after_&gt;\n      &lt;/property&gt;\n    &lt;/object&gt;\n    &lt;object name=\"Block_17_Msg_190\"&gt;\n      &lt;property name=\"Text\"&gt;\n        &lt;before&gt;Pokemari brings peace to people's hearts. Ohh, if everyone played it, the world would be a much better place!&lt;/before&gt;\n        &lt;after_&gt;Pok\u00e9mari brings peace to people's hearts. Ohh, if everyone played it, the world would be a much better place!&lt;/after_&gt;\n      &lt;/property&gt;\n    &lt;/object&gt;\n  &lt;/type&gt;\n&lt;/changelist&gt;\n</code></pre> <p>VPYJ is of course in a different language so all the text and many images are changed, but also the block positioning of certain text is changed. There is also less bytes allocated for names in many of the data files.</p>"}]}